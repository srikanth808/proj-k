{"ast":null,"code":"var _jsxFileName = \"S:\\\\proj k\\\\frontend\\\\src\\\\pages\\\\Schedule.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Schedule = () => {\n  _s();\n  const [matches, setMatches] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        const res = await api.get('/matches/');\n        setMatches(res.data);\n      } catch (err) {\n        console.error('Failed to fetch matches', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetch();\n  }, []);\n  const updateMatch = async (id, patch) => {\n    try {\n      const res = await api.patch(`/matches/${id}/`, patch);\n      setMatches(prev => prev.map(m => m.id === id ? res.data : m));\n    } catch (err) {\n      console.error('Failed to update match', err);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 16\n    },\n    children: \"Loading schedule\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 16\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Match Schedule\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }, this), matches.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No matches scheduled.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Court\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Fixture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: matches.map(m => {\n          var _m$court_number, _m$fixture, _m$fixture$player, _m$fixture2, _m$fixture2$player;\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: (_m$court_number = m.court_number) !== null && _m$court_number !== void 0 ? _m$court_number : 'Unassigned'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: new Date(m.scheduled_time).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: `${((_m$fixture = m.fixture) === null || _m$fixture === void 0 ? void 0 : (_m$fixture$player = _m$fixture.player1) === null || _m$fixture$player === void 0 ? void 0 : _m$fixture$player.name) || 'TBD'} vs ${((_m$fixture2 = m.fixture) === null || _m$fixture2 === void 0 ? void 0 : (_m$fixture2$player = _m$fixture2.player2) === null || _m$fixture2$player === void 0 ? void 0 : _m$fixture2$player.name) || 'TBD'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: m.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateMatch(m.id, {\n                  status: 'LIVE'\n                }),\n                style: {\n                  marginRight: 8\n                },\n                children: \"Set Live\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateMatch(m.id, {\n                  status: 'COMPLETED'\n                }),\n                style: {\n                  marginRight: 8\n                },\n                children: \"Set Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  const court = prompt('Assign court number (integer)');\n                  if (court) updateMatch(m.id, {\n                    court_number: parseInt(court, 10) || null\n                  });\n                },\n                children: \"Assign Court\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 8\n            }, this)]\n          }, m.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 3\n  }, this);\n};\n_s(Schedule, \"o79dFCsnn+DOg+6kO09X1xc6308=\");\n_c = Schedule;\nexport default Schedule;\nvar _c;\n$RefreshReg$(_c, \"Schedule\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","Schedule","_s","matches","setMatches","loading","setLoading","fetch","res","get","data","err","console","error","updateMatch","id","patch","prev","map","m","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","length","_m$court_number","_m$fixture","_m$fixture$player","_m$fixture2","_m$fixture2$player","court_number","Date","scheduled_time","toLocaleString","fixture","player1","name","player2","status","onClick","marginRight","court","prompt","parseInt","_c","$RefreshReg$"],"sources":["S:/proj k/frontend/src/pages/Schedule.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../services/api';\r\n\r\ntype Match = {\r\n\tid: number;\r\n\tfixture: any;\r\n\tcourt_number: number | null;\r\n\tscheduled_time: string;\r\n\tstatus: string;\r\n\twinner: any | null;\r\n};\r\n\r\nconst Schedule: React.FC = () => {\r\n\tconst [matches, setMatches] = useState<Match[]>([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetch = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await api.get('/matches/');\r\n\t\t\t\tsetMatches(res.data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Failed to fetch matches', err);\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetch();\r\n\t}, []);\r\n\r\n\tconst updateMatch = async (id: number, patch: Partial<Match>) => {\r\n\t\ttry {\r\n\t\t\tconst res = await api.patch(`/matches/${id}/`, patch);\r\n\t\t\tsetMatches(prev => prev.map(m => (m.id === id ? res.data : m)));\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Failed to update match', err);\r\n\t\t}\r\n\t};\r\n\r\n\tif (loading) return <div style={{ padding: 16 }}>Loading scheduleâ€¦</div>;\r\n\r\n\treturn (\r\n\t\t<div style={{ padding: 16 }}>\r\n\t\t\t<h2>Match Schedule</h2>\r\n\t\t\t{matches.length === 0 && <p>No matches scheduled.</p>}\r\n\t\t\t<table>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Court</th>\r\n\t\t\t\t\t\t<th>Time</th>\r\n\t\t\t\t\t\t<th>Fixture</th>\r\n\t\t\t\t\t\t<th>Status</th>\r\n\t\t\t\t\t\t<th>Actions</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{matches.map(m => (\r\n\t\t\t\t\t\t<tr key={m.id}>\r\n\t\t\t\t\t\t\t<td>{m.court_number ?? 'Unassigned'}</td>\r\n\t\t\t\t\t\t\t<td>{new Date(m.scheduled_time).toLocaleString()}</td>\r\n\t\t\t\t\t\t\t<td>{`${m.fixture?.player1?.name || 'TBD'} vs ${m.fixture?.player2?.name || 'TBD'}`}</td>\r\n\t\t\t\t\t\t\t<td>{m.status}</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<button onClick={() => updateMatch(m.id, { status: 'LIVE' })} style={{ marginRight: 8 }}>Set Live</button>\r\n\t\t\t\t\t\t\t\t<button onClick={() => updateMatch(m.id, { status: 'COMPLETED' })} style={{ marginRight: 8 }}>Set Completed</button>\r\n\t\t\t\t\t\t\t\t<button onClick={() => {\r\n\t\t\t\t\t\t\t\t\tconst court = prompt('Assign court number (integer)');\r\n\t\t\t\t\t\t\t\t\tif (court) updateMatch(m.id, { court_number: parseInt(court, 10) || null });\r\n\t\t\t\t\t\t\t\t}}>Assign Court</button>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Schedule;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}